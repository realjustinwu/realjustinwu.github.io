---
title: wordpress需要访问您网页服务器的权限
date: 2018-9-28 21:08:44
categories: Wordpress
tags: [Wordpress, php]
blog: true
---



昨天玩弄了一下 Wordpress, 安装都挺简单的。但是安装主题的时候，出了点问题，花了一点时间。记录一下这个 bug。

安装主题的时候，出现错误 **wordpress需要访问您网页服务器的权限** 的提示框，Google 一下，挺多人都遇到过这个问题，解决方法也是简单暴力，直接把所有文件属性设置为所有人可读写，我肯定是不会使用这种方法的。有一些人把文件的所有者改成 www，我检查了我的文件系统的所有者是正确的，为啥还有这个提示框呢？

快睡觉的时候分析了一下原因: 提示这个问题，肯定是没权限，安装主题要把文件写入到 wp-content/theme 目录下，而这个目录的所有者，跟运行的 apache 服务是同一个，理论上应该有权限。再想想，写入应该是要可执行的程序做的事，应该是 PHP 没有权限。然后查了一下 PHP 的启动用户，果然发现问题，PHP  的默认用户是 www-data。修改 PHP 启动用户之后，杀死 PHP 进程主进程(有多个子进程)，重启 apache，解决问题。
